(function(e){function t(t){for(var a,i,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==s[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0c58":function(e,t,n){},1274:function(e,t,n){"use strict";n("7625")},1318:function(e,t,n){e.exports=n.p+"img/helpRepayment.87a7b2d3.png"},"1b5a":function(e,t,n){"use strict";n("0c58")},"36b3":function(e,t,n){"use strict";n("fa6f")},"391f":function(e,t,n){"use strict";n("6303")},"43cf":function(e,t,n){"use strict";n("b77f")},"43ed":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("v-app",[a("userRoot",{on:{clickHelpButton:function(){t.help_flag=!0}}}),t.help_flag?a("helpModal",{on:{closeHelp:function(){e.help_flag=!1}}}):t._e(),a("div",{style:t.padding_styles}),a("myFooter",{on:{resizeEvent:t.footerPadding}})],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.shareLinkFlag?n("shareLinkModal",{attrs:{shareLink:e.shareLink},on:{closeModal:function(t){e.shareLinkFlag=!1}}}):e._e(),e.passwordModalFlag?n("passwordModal",{attrs:{sessionName:e.loadSessionName},on:{closeModal:function(t){e.passwordModalFlag=!1},inputPasswordEvent:e.saveInputedPasswordToCookie}}):e._e(),n("v-container",[n("appBar",{attrs:{userNameList:e.userNameList},on:{appendUserEvent:e.appendUser,repaymentEvent:e.calcRepayment,clickHelpButton:function(t){return e.$emit("clickHelpButton")},shareEvent:e.uploadAndShare,loadEvent:e.loadUserInfo}}),n("v-row",{staticClass:"pa-2"},e._l(e.userIterator,(function(t){return n("div",{key:t},[n("userInfo",{attrs:{userName:e.userNameList[t-1],userPayedAmount:e.paymentList[t-1],averagePayment:e.averagePayment},on:{userPayEvent:e.calcTotalPayment,deleteUserEvent:e.deleteUser}})],1)})),0),n("div",{staticClass:"pa-6"},[n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 総額："+e._s(e.totalPayment)+"円 ")]),n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 一人あたり："+e._s(e.averagePayment)+"円 ")]),e.userNameList.length>=2&&e.hasFraction?n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 誰かが「"+e._s(e.userNameList.length)+"で割って"+e._s(e.mod)+"余る数字」円払うと端数がなくなります ")]):e._e(),e.userNameList.length<2||!e.hasFraction?n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 端数はありません ")]):e._e()])],1)],1)},r=[],l=n("1da1"),c=(n("96cf"),n("d3b7"),n("b0c0"),n("a434"),n("ac1f"),n("1276"),n("d81d"),n("a9e3"),n("2b27")),u=n.n(c),d=n("bc3a"),m=n.n(d),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"ma-2",attrs:{color:"#FFF9C4",elevation:"6",rounded:"true"}},[a("v-container",[a("v-row",{staticClass:"ma-1",attrs:{id:"id_userName"}},[a("span",[e._v(e._s(e.userName))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:e.deleteConfirm}},[a("v-icon",[e._v("mdi-close-circle")])],1),e.deleteConfirmFlag?a("deleteConfirmModal",{attrs:{deletedUserName:e.userName},on:{deleteConfirmEvent:e.deleteUser,deleteCancelEvent:e.cancelDeleting}}):e._e()],1),a("v-row",{staticClass:"ml-1",attrs:{align:"center"}},[a("v-col",{staticClass:"pa-1"},[a("moneyTextField",{model:{value:e.paymentAmount,callback:function(t){e.paymentAmount=e._n(t)},expression:"paymentAmount"}})],1),a("v-col",{staticClass:"pa-1"},[a("v-btn",{attrs:{small:"",color:"warning",fab:"",dark:""},on:{click:e.addPaymentAmount}},[a("v-img",{attrs:{src:n("7a75"),width:"25",height:"25",contain:""}})],1)],1)],1),a("v-row",{staticClass:"ml-1"},[a("v-col",{staticClass:"pa-1"},[a("span",[e._v("累計支払金額："+e._s(e._f("floorToTenths")(e.userPayedAmount))+"円")])])],1),a("v-row",{staticClass:"ml-1"},[a("v-col",{staticClass:"pa-1 mb-3"},[e.userSplitPayment<0?a("span",{staticClass:"class_loss"},[e._v(" "+e._s(e._f("floorToTenths")(Math.abs(e.userSplitPayment)))+"円 建て替え中 ")]):e.userSplitPayment>0?a("span",{staticClass:"class_profit"},[e._v(" "+e._s(e._f("floorToTenths")(Math.abs(e.userSplitPayment)))+"円 支払うと割り勘 ")]):a("span",{staticClass:"class_just"},[e._v(" ちょうど一人分の金額を払っています ")])])],1)],1)],1)},v=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{type:"number",prefix:"￥",label:"金額",dence:"",solo:"","hide-details":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},h=[],y={name:"moneyTextField",props:["value"]},g=y,b=(n("f909"),n("2877")),w=n("6544"),_=n.n(w),k=n("8654"),N=Object(b["a"])(g,f,h,!1,null,null,null),C=N.exports;_()(N,{VTextField:k["a"]});var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal_overlay"},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.cancelDeleting,expression:"cancelDeleting"}],staticClass:"modal_contents",attrs:{color:"white"}},[n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("p",[e._v(e._s(e.deletedUserName)+" さんを削除します。")])]),n("v-row",{attrs:{justify:"center"}},[n("v-btn",{on:{click:e.cancelDeleting}},[e._v(" キャンセル ")]),n("v-btn",{on:{click:e.confirmDeleting}},[n("v-icon",[e._v(" mdi-delete ")])],1)],1)],1)],1)],1)},L=[],E={name:"deleteConfirmModal",data:function(){return{}},props:["deletedUserName"],methods:{confirmDeleting:function(){this.$emit("deleteConfirmEvent",this.deletedUserName)},cancelDeleting:function(){this.$emit("deleteCancelEvent")}}},V=E,$=n("8336"),P=n("b0af"),F=n("a523"),T=n("132d"),j=n("0fd9"),S=n("269a"),A=n.n(S),I=n("a293"),U=Object(b["a"])(V,x,L,!1,null,null,null),M=U.exports;_()(U,{VBtn:$["a"],VCard:P["a"],VContainer:F["a"],VIcon:T["a"],VRow:j["a"]}),A()(U,{ClickOutside:I["a"]});var O={name:"userInfo",components:{moneyTextField:C,deleteConfirmModal:M},props:["userName","averagePayment","userPayedAmount"],data:function(){return{paymentAmount:"",deleteConfirmFlag:!1}},computed:{userSplitPayment:function(){return this.averagePayment-this.userPayedAmount}},methods:{addPaymentAmount:function(){var e=Math.floor(this.paymentAmount);this.$emit("userPayEvent",{name:this.userName,amount:e}),this.paymentAmount=""},deleteUser:function(){this.deleteConfirmFlag=!1,this.$emit("deleteUserEvent",this.userName)},deleteConfirm:function(){this.deleteConfirmFlag=!0},cancelDeleting:function(){this.deleteConfirmFlag=!1}},filters:{floorToTenths:function(e){return Math.floor(10*e)/10}}},B=O,R=(n("391f"),n("62ad")),K=n("adda"),D=n("8dd9"),H=n("2fa4"),z=Object(b["a"])(B,p,v,!1,null,"614862bb",null),q=z.exports;_()(z,{VBtn:$["a"],VCol:R["a"],VContainer:F["a"],VIcon:T["a"],VImg:K["a"],VRow:j["a"],VSheet:D["a"],VSpacer:H["a"]});var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",[n("v-app-bar",{attrs:{app:"",fixed:"",color:"orange","elevate-on-scroll":""}},[e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}):e._e(),n("v-toolbar-title",[e._v("和割勘")]),e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?e._e():n("v-tabs",e._l(e.menuList,(function(t){return n("v-tab",{key:t.name,attrs:{to:t.url}},[e._v(" "+e._s(t.name)+" ")])})),1),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("clickHelpButton")}}},[n("v-icon",[e._v("mdi-help-circle-outline")])],1)],1),n("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",e._l(e.menuList,(function(t){return n("v-list-item",{key:t.name,attrs:{to:t.url}},[n("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1)],1)],1),n("div",{staticClass:"pa-6"}),n("router-view",{attrs:{userNameList:e.userNameList},on:{appendUserEvent:e.appendEvent,repaymentEvent:e.repaymentEvent,shareEvent:e.shareEvent,loadEvent:e.loadEvent}})],1)},X=[],G={name:"appBar",data:function(){return{drawer:!1,menuList:[{name:"ユーザー追加",url:"/"},{name:"受け渡し",url:"/repaymentForm"},{name:"共有 / 読み込み",url:"/shareAndLoadForm"}]}},props:["userNameList"],methods:{appendEvent:function(e){this.$emit("appendUserEvent",e)},repaymentEvent:function(e){this.$emit("repaymentEvent",e)},shareEvent:function(e){this.$emit("shareEvent",e)},loadEvent:function(e){this.$emit("loadEvent",e)}}},Q=G,W=(n("1274"),n("40dc")),Y=n("5bc1"),Z=n("8860"),ee=n("da13"),te=n("1baa"),ne=n("5d23"),ae=n("f774"),se=n("71a3"),oe=n("fe57"),ie=n("2a7f"),re=Object(b["a"])(Q,J,X,!1,null,"b4ab8e48",null),le=re.exports;_()(re,{VAppBar:W["a"],VAppBarNavIcon:Y["a"],VBtn:$["a"],VIcon:T["a"],VList:Z["a"],VListItem:ee["a"],VListItemGroup:te["a"],VListItemTitle:ne["b"],VNavigationDrawer:ae["a"],VSpacer:H["a"],VTab:se["a"],VTabs:oe["a"],VToolbarTitle:ie["a"]});var ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal_overlay"},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeModal,expression:"closeModal"}],staticClass:"modal_contents",attrs:{color:"white"}},[n("v-container",[n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{icon:""},on:{click:e.closeModal}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1),n("v-row",[n("p",[e._v(e._s(e.shareLink))]),n("textCopyButton",{attrs:{text:e.shareLink}})],1)],1)],1)],1)},ue=[],de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-icon",{on:{click:function(t){return e.copyToClipboard(e.text)}}},[e._v("mdi-content-copy")])},me=[],pe={name:"textCopyButton",components:{},data:function(){return{}},props:["text"],methods:{copyToClipboard:function(e){navigator.clipboard.writeText(e).then((function(){console.log("copied!")})).catch((function(e){console.error(e)}))}}},ve=pe,fe=Object(b["a"])(ve,de,me,!1,null,null,null),he=fe.exports;_()(fe,{VIcon:T["a"]});var ye={name:"shareLinkModal",components:{textCopyButton:he},data:function(){return{}},props:["shareLink"],methods:{closeModal:function(){this.$emit("closeModal")}}},ge=ye,be=Object(b["a"])(ge,ce,ue,!1,null,null,null),we=be.exports;_()(be,{VBtn:$["a"],VCard:P["a"],VContainer:F["a"],VIcon:T["a"],VRow:j["a"]}),A()(be,{ClickOutside:I["a"]});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal_overlay"},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeModal,expression:"closeModal"}],staticClass:"modal_contents",attrs:{color:"white"}},[n("v-container",[n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{icon:""},on:{click:e.closeModal}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1),n("v-row",[n("span",[e._v(" "+e._s(e.sessionName)+"を読み込みます。パスワードを入力してください。 ")]),n("span",[e._v(" （「共有」していないデータは破棄されます。） ")])]),n("v-row",[n("passwordTextField",{attrs:{enablePassword:!0},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-row",[n("v-btn",{on:{click:e.closeModal}}),n("v-btn",{on:{click:function(t){return e.$emit("inputPasswordEvent",e.password)}}})],1)],1)],1)],1)},ke=[],Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min8],type:e.show?"text":"password",label:"パスワード",disabled:!e.enablePassword,value:e.value},on:{"click:append":function(t){e.show=!e.show},input:function(t){return e.$emit("input",t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},Ce=[],xe={name:"passwordTextField",props:["value","enablePassword"],data:function(){return{show:!1,rules:{required:function(e){return!!e||"パスワードを設定する場合は入力してください"},min8:function(e){return e.length>=8||"8文字以上の文字列を入力してください"}}}}},Le=xe,Ee=(n("f5df1"),Object(b["a"])(Le,Ne,Ce,!1,null,null,null)),Ve=Ee.exports;_()(Ee,{VTextField:k["a"]});var $e={name:"passwordModal",components:{passwordTextField:Ve},data:function(){return{password:""}},props:["sessionName"],methods:{closeModal:function(){this.$emit("closeModal")}}},Pe=$e,Fe=Object(b["a"])(Pe,_e,ke,!1,null,null,null),Te=Fe.exports;_()(Fe,{VBtn:$["a"],VCard:P["a"],VContainer:F["a"],VIcon:T["a"],VRow:j["a"]}),A()(Fe,{ClickOutside:I["a"]});var je=n("5fb0"),Se=n.n(je);a["a"].use(u.a);var Ae={name:"userRoot",components:{userInfo:q,appBar:le,shareLinkModal:we,passwordModal:Te},data:function(){return{userNameList:[],paymentList:[],shareLink:"",shareLinkFlag:!1,loadSessionName:"",passwordModalFlag:!1}},computed:{averagePayment:function(){return 0===this.userNameList.length?0:this.totalPayment/this.userNameList.length},userIterator:function(){for(var e=[],t=1;t<=this.userNameList.length;t++)e.push(t);return e},mod:function(){return 0!=this.userNameList.length?this.userNameList.length-this.totalPayment%this.userNameList.length:0},hasFraction:function(){return this.totalPayment%this.userNameList.length!==0},totalPayment:function(){for(var e=0,t=0;t<this.paymentList.length;t++)e+=this.paymentList[t];return e},existSessionNameCookie:function(){return this.$cookies.isKey(Se.a.sessionNameKey)&&""!==this.$cookies.get(Se.a.sessionNameKey)}},methods:{appendUser:function(e){if(this.userNameList.push(e),this.paymentList.push(0),this.existSessionNameCookie){var t=this.$cookies.get(Se.a.sessionNameKey),n={sessionName:t,userName:e},a={method:"post",url:"dbAPI/appendUser",responseType:"json",headers:{"Content-Type":"application/json"},data:n},s=this;m()(a).then((function(e){e===Se.a.success&&s.updataUserInfoFromDB(t)})).catch((function(e){s.$cookies.remove(Se.a.sessionNameKey),console.log(e)})).finally((function(){s=null}))}},calcTotalPayment:function(e){var t=this.userNameList.indexOf(e.name);if(a["a"].set(this.paymentList,t,this.paymentList[t]+e.amount),this.existSessionNameCookie){var n=this.$cookies.get(Se.a.sessionNameKey),s={sessionName:n,userName:e.name,paymentAmount:e.amount},o={method:"post",url:"dbAPI/updatePayment",responseType:"json",headers:{"Content-Type":"application/json"},data:s},i=this;m()(o).then((function(e){e===Se.a.success&&i.updataUserInfoFromDB(n)})).catch((function(e){i.$cookies.remove(Se.a.sessionNameKey),console.log(e)})).finally((function(){i=null}))}},calcRepayment:function(e){var t=this.userNameList.indexOf(e.payer),n=this.userNameList.indexOf(e.receiver);if(a["a"].set(this.paymentList,t,this.paymentList[t]+e.amount),a["a"].set(this.paymentList,n,this.paymentList[n]-e.amount),this.existSessionNameCookie){var s=this.$cookies.get(Se.a.sessionNameKey),o={sessionName:s,payer:e.payer,receiver:e.receiver,paymentAmount:e.amount},i={method:"post",url:"dbAPI/repayment",responseType:"json",headers:{"Content-Type":"application/json"},data:o},r=this;m()(i).then((function(e){e===Se.a.success&&r.updataUserInfoFromDB(s)})).catch((function(e){r.$cookies.remove(Se.a.sessionNameKey),console.log(e)})).finally((function(){r=null}))}},deleteUser:function(e){var t=this.userNameList.indexOf(e);if(this.userNameList.splice(t,1),this.paymentList.splice(t,1),this.existSessionNameCookie){var n=this.$cookies.get(Se.a.sessionNameKey),a={sessionName:n,userName:e},s={method:"post",url:"dbAPI/deleteUser",responseType:"json",headers:{"Content-Type":"application/json"},data:a},o=this;m()(s).then((function(e){e===Se.a.success&&o.updataUserInfoFromDB(n)})).catch((function(e){o.$cookies.remove(Se.a.sessionNameKey),console.log(e)})).finally((function(){o=null}))}},uploadAndShare:function(e){var t={sessionName:e.sessionName,password:e.password,userNameList:this.userNameList,paymentList:this.paymentList},n={method:"post",url:"dbAPI/resisterSession",responseType:"json",headers:{"Content-Type":"application/json"},data:t},a=this;m()(n).then((function(t){t.data.result===Se.a.success&&(a.shareLink=t.data.shareLink,a.shareLinkFlag=!0,a.$cookies.set(Se.a.sessionNameKey,e.sessionName))})).catch((function(e){console.log(e)})).finally((function(){a=null}))},loadUserInfo:function(e){window.location.href=Se.a.appURL+"?sessionName="+e},updateUserInfoFromCookie:function(){if(!this.$cookies.isKey("userNameList")||!this.$cookies.isKey("paymentList"))return this.userNameList=[],void(this.paymentList=[]);var e=this.$cookies.get("userNameList"),t=this.$cookies.get("paymentList");if(null===e||null===t)return alert("データが破損しています。"),this.userNameList=[],void(this.paymentList=[]);this.userNameList=e.split(",");var n=t.split(",");this.paymentList=n.map((function(e){return Number(e)}))},setUserInfoToCookie:function(){this.$cookies.set("userNameList",this.userNameList),this.$cookies.set("paymentList",this.paymentList)},updataUserInfoFromDB:function(e){var t={method:"post",url:"dbAPI/getUserInfo",responseType:"json",headers:{"Content-Type":"application/json"},data:{sessionName:e,encryptedPassword:this.$cookies.get(Se.a.passwordKey)}},n=this;m()(t).then((function(e){console.log(e.data.result),e.data.result===Se.a.success?(n.userNameList=e.data.userNameList,n.paymentList=e.data.paymentList):e.data.result===Se.a.wrongPassword&&console.log("パスワードが")})).catch((function(e){n.$cookies.remove(Se.a.sessionNameKey),console.log(e)})).finally((function(){n=null}))},updateUserInfo:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.query.sessionName,n=void 0!==t&&""!==t,!n){e.next=11;break}return this.loadSessionName=t,e.next=6,this.checkExistPassword(this.loadSessionName);case 6:a=e.sent,this.$cookies.set(Se.a.sessionNameKey,t),a?this.$cookies.isKey(Se.a.passwordKey)?this.updataUserInfoFromDB(t):this.passwordModalFlag=!0:(this.saveInputedPasswordToCookie(""),this.updataUserInfoFromDB(t)),e.next=12;break;case 11:this.existSessionNameCookie?this.updataUserInfoFromDB(this.$cookies.get(Se.a.sessionNameKey)):this.updateUserInfoFromCookie();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkExistPassword:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={sessionName:e},a={method:"post",url:"dbAPI/checkExistPassword",responseType:"json",headers:{"Content-Type":"application/json"},data:n},s=!0,t.next=5,m()(a).then((function(e){e.data.result===Se.a.success&&(s=e.data.existPassword)})).catch((function(e){console.log(e)}));case 5:return t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()},saveInputedPasswordToCookie:function(e){var t={method:"post",url:"dbAPI/encryptPassword",responseType:"json",headers:{"Content-Type":"application/json"},data:{password:e}},n=this;m()(t).then((function(e){n.$cookies.set(Se.a.passwordKey,e.data.encryptedPassword),n.updataUserInfoFromDB})).catch((function(e){console.log(e)})).finally((function(){n=null}))}},updated:function(){this.$nextTick((function(){this.setUserInfoToCookie()}))},mounted:function(){this.$nextTick((function(){this.updateUserInfo()}))}},Ie=Ae,Ue=(n("9fd0"),Object(b["a"])(Ie,i,r,!1,null,"5c05cc9d",null)),Me=Ue.exports;_()(Ue,{VContainer:F["a"],VRow:j["a"]});var Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],ref:"footer",attrs:{color:"#666",absolute:"",padless:""}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"4"}}),n("v-col",{staticClass:"footer_centering",attrs:{cols:"4"}},[n("strong",{staticClass:"white--text"},[e._v("wa-warikan")])]),n("v-col",{staticClass:"footer_centering",attrs:{cols:"4"}},e._l(e.icons,(function(t){return n("v-btn",{key:t,staticClass:"mx-1",attrs:{icon:"",dark:""}},[n("v-icon",{attrs:{size:"24px"}},[e._v(" "+e._s(t)+" ")])],1)})),1)],1)],1)],1)},Be=[],Re={data:function(){return{icons:["mdi-home","mdi-email","mdi-calendar"]}},computed:{},methods:{onResize:function(){var e=this.$el.getBoundingClientRect().height;this.$emit("resizeEvent",e)}}},Ke=Re,De=(n("36b3"),n("553a")),He=n("dc22"),ze=Object(b["a"])(Ke,Oe,Be,!1,null,"104ed187",null),qe=ze.exports;_()(ze,{VBtn:$["a"],VCol:R["a"],VContainer:F["a"],VFooter:De["a"],VIcon:T["a"],VRow:j["a"]}),A()(ze,{Resize:He["a"]});var Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal_overlay"},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeHelp,expression:"closeHelp"}],staticClass:"modal_contents",attrs:{color:"white"}},[n("v-container",[n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{icon:""},on:{click:e.closeHelp}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1),n("v-row",{attrs:{justify:"center"}},[n("helpCarousel")],1)],1)],1)],1)},Xe=[],Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-carousel",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-carousel-item",[a("div",{staticClass:"pa-4"},[a("h2",{staticClass:"pa-2",staticStyle:{"background-color":"orange"}},[e._v("概要")]),a("v-sheet",{staticClass:"ma-2",attrs:{height:"100%",tile:""}},[a("ol",[a("li",[e._v(" レジャー中「みんなで合計xxx円」という支払いは割り勘しない ")]),a("li",[e._v(" 代わりに各人の支払額をメモ（支払額が少ない人が払うとなおよし） ")]),a("li",[e._v(" レジャーの終わりに最終的な差額でお金のやりとりをする ")]),a("li",[e._v(" トータル割り勘成立！ ")])])])],1)]),a("v-carousel-item",{staticStyle:{"justify-content":"center"}},[a("h2",{staticClass:"pa-2",staticStyle:{"background-color":"orange"}},[e._v(" 1. 割勘するメンバーを追加 ")]),a("p",{staticClass:"ma-2",staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:n("b0e3"),width:"100%"}})])]),a("v-carousel-item",{staticStyle:{"justify-content":"center"}},[a("h2",{staticClass:"pa-2",staticStyle:{"background-color":"orange"}},[e._v(" 2. 各メンバーの支払い額を記録 ")]),a("p",{staticClass:"ma-2",staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:n("92c1"),width:"100%"}})])]),a("v-carousel-item",{staticStyle:{"justify-content":"center"}},[a("h2",{staticClass:"pa-2",staticStyle:{"background-color":"orange"}},[e._v(" 3. 表示される額の受け渡しで割勘！ ")]),a("p",{staticClass:"ma-2",staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:n("1318"),width:"100%"}})])])],1)},Qe=[],We={name:"helpCarousel",data:function(){return{model:0,colors:["primary","secondary","yellow darken-2","red","orange"]}}},Ye=We,Ze=n("5e66"),et=n("3e35"),tt=Object(b["a"])(Ye,Ge,Qe,!1,null,null,null),nt=tt.exports;_()(tt,{VCarousel:Ze["a"],VCarouselItem:et["a"],VSheet:D["a"]});var at={name:"helpModal",components:{helpCarousel:nt},data:function(){return{}},props:[""],methods:{closeHelp:function(){this.$emit("closeHelp")}}},st=at,ot=Object(b["a"])(st,Je,Xe,!1,null,null,null),it=ot.exports;_()(ot,{VBtn:$["a"],VCard:P["a"],VContainer:F["a"],VIcon:T["a"],VRow:j["a"]}),A()(ot,{ClickOutside:I["a"]});var rt={name:"App",components:{userRoot:Me,myFooter:qe,helpModal:it},data:function(){return{padding_styles:"",help_flag:!1}},methods:{footerPadding:function(e){this.padding_styles={"padding-top":e+"px"}}}},lt=rt,ct=(n("034f"),n("7496")),ut=Object(b["a"])(lt,s,o,!1,null,null,null),dt=ut.exports;_()(ut,{VApp:ct["a"]});var mt=n("f309");a["a"].use(mt["a"]);var pt=new mt["a"]({}),vt=n("8c4f"),ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{align:"center"}},[n("v-col",[n("userTextField",{model:{value:e.inputtedUserName,callback:function(t){e.inputtedUserName=t},expression:"inputtedUserName"}})],1),n("v-col",[n("v-btn",{attrs:{disabled:""===e.inputtedUserName,large:"",color:"primary"},on:{click:e.formatNameAndEmitEvent}},[n("v-icon",[e._v("mdi-account-plus")])],1)],1)],1)],1)},ht=[],yt=(n("4d63"),n("25f0"),n("4de4"),n("841c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{type:"text",label:"ユーザー名",filled:"",placeholder:"割勘 太郎",height:"40px","hide-details":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}})}),gt=[],bt={name:"userTextField",props:["value"]},wt=bt,_t=Object(b["a"])(wt,yt,gt,!1,null,null,null),kt=_t.exports;_()(_t,{VTextField:k["a"]});var Nt={name:"appendUserForm",components:{userTextField:kt},props:["userNameList"],data:function(){return{inputtedUserName:""}},methods:{formatNameAndEmitEvent:function(){var e=this.inputtedUserName,t=new RegExp(this.inputtedUserName+"_?[0-9]*"),n=this.userNameList.filter((function(e){return-1!=e.search(t)})),a=n.length;a>0&&(e=this.inputtedUserName+"_"+(a+1)),this.$emit("appendUserEvent",e),this.inputtedUserName=""}}},Ct=Nt,xt=Object(b["a"])(Ct,ft,ht,!1,null,"4b9f1999",null),Lt=xt.exports;_()(xt,{VBtn:$["a"],VCol:R["a"],VContainer:F["a"],VIcon:T["a"],VRow:j["a"]});var Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.userNameList.length<2?n("div",{attrs:{id:"id_user_shortage"}},[n("p",[e._v("受け渡し機能を使うには2人以上のユーザーを追加してください")])]):e._e(),e.userNameList.length>=2?n("div",[n("v-row",{staticClass:"pa-3"},[n("moneyTextField",{model:{value:e.paymentAmount,callback:function(t){e.paymentAmount=e._n(t)},expression:"paymentAmount"}})],1),n("v-row",{attrs:{align:"center"}},[n("v-col",[n("v-select",{attrs:{items:e.userNameList,filled:"",label:"払う人","hide-details":""},model:{value:e.payer,callback:function(t){e.payer=t},expression:"payer"}})],1),n("v-col",[n("v-select",{attrs:{items:e.userNameList,filled:"",label:"受け取る人","hide-details":""},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}})],1),n("v-col",[n("v-btn",{attrs:{color:"warning","x-large":"",disabled:!e.readyToRepayment},on:{click:e.repayment}},[n("v-icon",{attrs:{color:"black"}},[e._v("mdi-cash-refund")])],1)],1)],1)],1):e._e()])},Vt=[],$t={name:"repaymentForm",components:{moneyTextField:C},props:["userNameList"],data:function(){return{payer:"",receiver:"",paymentAmount:""}},computed:{readyToRepayment:function(){var e=""!=this.paymentAmount,t=""!=this.payer&&""!=this.receiver,n=this.payer!=this.receiver;return e&&t&&n}},methods:{repayment:function(){var e=Math.floor(this.paymentAmount);this.$emit("repaymentEvent",{payer:this.payer,receiver:this.receiver,amount:e}),this.paymentAmount="",this.payer="",this.receiver=""}}},Pt=$t,Ft=(n("43cf"),n("b974")),Tt=Object(b["a"])(Pt,Et,Vt,!1,null,"47b87cac",null),jt=Tt.exports;_()(Tt,{VBtn:$["a"],VCol:R["a"],VContainer:F["a"],VIcon:T["a"],VRow:j["a"],VSelect:Ft["a"]});var St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.shareFlag?n("shareSessionConfirmModal",{on:{shareConfirmEvent:e.emitShareEvent,shareCancelEvent:function(t){e.shareFlag=!1}}}):e._e(),e.loadFlag?n("loadSessionConfirmModal",{on:{loadConfirmEvent:e.emitLoadEvent,loadCancelEvent:function(t){e.loadFlag=!1}}}):e._e(),n("v-container",[n("v-row",{attrs:{align:"center"}},[n("v-col",[n("sessionNameTextField",{model:{value:e.sessionName,callback:function(t){e.sessionName=t},expression:"sessionName"}})],1),n("v-col",[n("v-btn",{on:{click:e.checkSessionNameAndEmitShareEvent}},[e._v("共有")]),n("v-btn",{on:{click:e.checkSessionNameAndEmitLoadEvent}},[e._v("読込")])],1)],1),n("v-row",[e.isError?n("p",{staticClass:"textFieldError"},[e._v(e._s(e.errorMessage))]):e._e()])],1)],1)},At=[],It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{type:"text",label:"セッション名",filled:"",placeholder:"夏旅行20XX",height:"40px","hide-details":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},Ut=[],Mt={name:"userTextField",props:["value"]},Ot=Mt,Bt=Object(b["a"])(Ot,It,Ut,!1,null,null,null),Rt=Bt.exports;_()(Bt,{VTextField:k["a"]});var Kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal_overlay"},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.cancelSharing,expression:"cancelSharing"}],staticClass:"modal_contents",attrs:{color:"white"}},[n("v-container",[n("v-row",{attrs:{justify:"center",align:"center"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.enablePassword,expression:"enablePassword"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.enablePassword)?e._i(e.enablePassword,null)>-1:e.enablePassword},on:{change:function(t){var n=e.enablePassword,a=t.target,s=!!a.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);a.checked?i<0&&(e.enablePassword=n.concat([o])):i>-1&&(e.enablePassword=n.slice(0,i).concat(n.slice(i+1)))}else e.enablePassword=s}}}),n("span",{staticClass:"px-1"},[e._v("パスワードを設定する")])]),n("v-row",{attrs:{justify:"center"}},[n("passwordTextField",{attrs:{enablePassword:e.enablePassword},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-row",{attrs:{justify:"center"}},[n("v-btn",{on:{click:e.cancelSharing}},[e._v(" キャンセル ")]),n("v-btn",{attrs:{disabled:e.password.length<8&&e.enablePassword},on:{click:e.confirmSharing}},[e._v(" 共有 ")])],1)],1)],1)],1)},Dt=[],Ht={name:"shareSessionConfirmModal",components:{passwordTextField:Ve},data:function(){return{password:"",enablePassword:!0}},methods:{confirmSharing:function(){this.enablePassword?this.$emit("shareConfirmEvent",this.password):this.$emit("shareConfirmEvent","")},cancelSharing:function(){this.$emit("shareCancelEvent")}}},zt=Ht,qt=Object(b["a"])(zt,Kt,Dt,!1,null,null,null),Jt=qt.exports;_()(qt,{VBtn:$["a"],VCard:P["a"],VContainer:F["a"],VRow:j["a"]}),A()(qt,{ClickOutside:I["a"]});var Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal_overlay"},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.cancelLoading,expression:"cancelLoading"}],staticClass:"modal_contents",attrs:{color:"white"}},[n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("p",[e._v(" サーバからデータを読み込むと「共有」していないデータは消えてしまいます．よろしいですか？ ")])]),n("v-row",{attrs:{justify:"center"}},[n("v-btn",{on:{click:e.cancelLoading}},[e._v(" キャンセル ")]),n("v-btn",{on:{click:e.confirmLoading}},[e._v(" 読み込む ")])],1)],1)],1)],1)},Gt=[],Qt={name:"loadSessionConfirmModal",data:function(){return{}},methods:{confirmLoading:function(){this.$emit("loadConfirmEvent")},cancelLoading:function(){this.$emit("loadCancelEvent")}}},Wt=Qt,Yt=Object(b["a"])(Wt,Xt,Gt,!1,null,null,null),Zt=Yt.exports;_()(Yt,{VBtn:$["a"],VCard:P["a"],VContainer:F["a"],VRow:j["a"]}),A()(Yt,{ClickOutside:I["a"]});var en={name:"shareAndLoadForm",components:{sessionNameTextField:Rt,shareSessionConfirmModal:Jt,loadSessionConfirmModal:Zt},props:[""],data:function(){return{sessionName:"",errorMessage:"",isError:!1,shareFlag:!1,loadFlag:!1}},computed:{},methods:{checkSessionNameAndEmitShareEvent:function(){var e={method:"post",url:"dbAPI/checkSessionName",responseType:"json",headers:{"Content-Type":"application/json"},data:{sessionName:this.sessionName}},t=this;m()(e).then((function(e){console.log(e.data.result),e.data.result===Se.a.sessionNameDuplicate?(t.errorMessage="そのセッション名は使われています",t.isError=!0):(t.isError=!1,t.shareFlag=!0)})).catch((function(e){console.log(e)})).finally((function(){t=null}))},checkSessionNameAndEmitLoadEvent:function(){var e={method:"post",url:"dbAPI/checkSessionName",responseType:"json",headers:{"Content-Type":"application/json"},data:{sessionName:this.sessionName}},t=this;m()(e).then((function(e){console.log(e.data.result),e.data.result===Se.a.sessionNameDuplicate?(t.loadFlag=!0,t.isError=!1):(t.errorMessage="そのセッションは存在しません",t.isError=!0)})).catch((function(e){console.log(e)})).finally((function(){t=null}))},emitShareEvent:function(e){this.$emit("shareEvent",{password:e,sessionName:this.sessionName}),this.shareFlag=!1},emitLoadEvent:function(){this.$emit("loadEvent",this.sessionName),this.loadFlag=!1}}},tn=en,nn=(n("1b5a"),Object(b["a"])(tn,St,At,!1,null,"3128b7c8",null)),an=nn.exports;_()(nn,{VBtn:$["a"],VCol:R["a"],VContainer:F["a"],VRow:j["a"]});var sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("p",[e._v("仮置")])])},on=[],rn={name:"tippingForm",components:{},methods:{}},ln=rn,cn=Object(b["a"])(ln,sn,on,!1,null,"249d452a",null),un=cn.exports;_()(cn,{VContainer:F["a"]}),a["a"].use(vt["a"]);var dn=[{path:"/",name:"appendUserForm",component:Lt},{path:"/repaymentForm",name:"repaymentForm",component:jt},{path:"/shareAndLoadForm",name:"shareAndLoadForm",component:an},{path:"/tippingForm",name:"tippingForm",component:un}],mn=new vt["a"]({mode:"history",base:"/",routes:dn}),pn=mn,vn=n("2106"),fn=n.n(vn);n("5363");a["a"].config.productionTip=!1,a["a"].use(fn.a,m.a),new a["a"]({icons:{iconfont:"mdi"},vuetify:pt,router:pn,render:function(e){return e(dt)}}).$mount("#app")},"5fb0":function(e,t){e.exports={sessionNameDuplicate:"snd",success:"success",error:"error",sessionNameKey:"sessionName",passwordKey:"password",wrongPassword:"wp",appURL:"http://localhost:8080"}},6303:function(e,t,n){},7625:function(e,t,n){},"7a75":function(e,t,n){e.exports=n.p+"img/支払い加算.34975b4b.png"},"85ec":function(e,t,n){},"92c1":function(e,t,n){e.exports=n.p+"img/helpPayment.c00de9e6.png"},"9fd0":function(e,t,n){"use strict";n("43ed")},b0e3:function(e,t,n){e.exports=n.p+"img/helpAppendUser.84084f7d.png"},b403:function(e,t,n){},b77f:function(e,t,n){},ed2b:function(e,t,n){},f5df1:function(e,t,n){"use strict";n("b403")},f909:function(e,t,n){"use strict";n("ed2b")},fa6f:function(e,t,n){}});
//# sourceMappingURL=app.38f8847f.js.map