(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],m=0,p=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"156f":function(e,t,n){},"36b3":function(e,t,n){"use strict";n("fa6f")},"391f":function(e,t,n){"use strict";n("6303")},"436d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("userRoot"),n("div",{style:e.padding_styles}),n("myFooter",{on:{resizeEvent:e.footerPadding}})],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("appBar",{attrs:{userNameList:e.userNameList},on:{appendUserEvent:e.appendUser,repaymentEvent:e.calcRepayment}}),n("v-row",{staticClass:"pa-2"},e._l(e.userIterator,(function(t){return n("div",{key:t},[n("userInfo",{attrs:{userName:e.userNameList[t-1],userPayedAmount:e.paymentList[t-1],averagePayment:e.averagePayment},on:{userPayEvent:e.calcTotalPayment,deleteUserEvent:e.deleteUser}})],1)})),0),n("div",{staticClass:"pa-6"},[n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 総額："+e._s(e.totalPayment)+"円 ")]),n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 一人あたり："+e._s(e.averagePayment)+"円 ")]),e.userNameList.length>=2&&e.hasFraction?n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 誰かが「"+e._s(e.userNameList.length)+"で割って"+e._s(e.mod)+"余る数字」円払うと端数がなくなります ")]):e._e(),e.userNameList.length<2||!e.hasFraction?n("p",{class:{disabledContent:e.userNameList.length<2}},[e._v(" 端数はありません ")]):e._e()])],1)},o=[],l=(n("b0c0"),n("a434"),n("ac1f"),n("1276"),n("d81d"),n("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"ma-2",attrs:{color:"#FFF9C4",elevation:"6",rounded:"true"}},[a("v-container",[a("v-row",{staticClass:"ma-1",attrs:{id:"id_userName"}},[a("span",[e._v(e._s(e.userName))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:e.deleteConfirm}},[a("v-icon",[e._v("mdi-close-circle")])],1),e.deleteConfirmFlag?a("deleteConfirmModal",{attrs:{deletedUserName:e.userName},on:{deleteConfirmEvent:e.deleteUser,deleteCancelEvent:e.cancelDeleting}}):e._e()],1),a("v-row",{staticClass:"ml-1",attrs:{align:"center"}},[a("v-col",{staticClass:"pa-1"},[a("moneyTextField",{model:{value:e.paymentAmount,callback:function(t){e.paymentAmount=e._n(t)},expression:"paymentAmount"}})],1),a("v-col",{staticClass:"pa-1"},[a("v-btn",{attrs:{small:"",color:"warning",fab:"",dark:""},on:{click:e.addPaymentAmount}},[a("v-img",{attrs:{src:n("7a75"),width:"25",height:"25",contain:""}})],1)],1)],1),a("v-row",{staticClass:"ml-1"},[a("v-col",{staticClass:"pa-1"},[a("span",[e._v("累計支払金額："+e._s(e._f("floorToTenths")(e.userPayedAmount))+"円")])])],1),a("v-row",{staticClass:"ml-1"},[a("v-col",{staticClass:"pa-1 mb-3"},[e.userSplitPayment<0?a("span",{staticClass:"class_loss"},[e._v(" "+e._s(e._f("floorToTenths")(Math.abs(e.userSplitPayment)))+"円 建て替え中 ")]):e.userSplitPayment>0?a("span",{staticClass:"class_profit"},[e._v(" "+e._s(e._f("floorToTenths")(Math.abs(e.userSplitPayment)))+"円 支払うと割り勘 ")]):a("span",{staticClass:"class_just"},[e._v(" ちょうど一人分の金額を払っています ")])])],1)],1)],1)}),c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{type:"number",prefix:"￥",label:"金額",dence:"",solo:"","hide-details":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},m=[],p={name:"moneyTextField",props:["value"]},d=p,v=(n("f909"),n("2877")),f=n("6544"),h=n.n(f),y=n("8654"),b=Object(v["a"])(d,u,m,!1,null,null,null),_=b.exports;h()(b,{VTextField:y["a"]});var g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal_overlay"},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.cancelDeleting,expression:"cancelDeleting"}],staticClass:"modal_contents",attrs:{color:"white"}},[n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"8"}},[n("v-row",[e._v(" "+e._s(e.deletedUserName)+" さんを削除します。")])],1),n("v-col",{attrs:{cols:"4","align-self":"end"}},[n("v-row",{attrs:{justify:"end"}},[n("v-btn",{on:{click:e.cancelDeleting}},[e._v(" キャンセル ")]),n("v-btn",{attrs:{icon:""},on:{click:e.confirmDeleting}},[n("v-icon",[e._v(" mdi-delete ")])],1)],1)],1)],1)],1)],1)],1)},N=[],L={name:"deleteConfirmModal",data:function(){return{}},props:["deletedUserName"],methods:{confirmDeleting:function(){this.$emit("deleteConfirmEvent",this.deletedUserName)},cancelDeleting:function(){this.$emit("deleteCancelEvent")}}},C=L,x=n("8336"),V=n("b0af"),w=n("62ad"),E=n("a523"),k=n("132d"),P=n("0fd9"),$=n("269a"),F=n.n($),T=n("a293"),O=Object(v["a"])(C,g,N,!1,null,null,null),U=O.exports;h()(O,{VBtn:x["a"],VCard:V["a"],VCol:w["a"],VContainer:E["a"],VIcon:k["a"],VRow:P["a"]}),F()(O,{ClickOutside:T["a"]});var A={name:"userInfo",components:{moneyTextField:_,deleteConfirmModal:U},props:["userName","averagePayment","userPayedAmount"],data:function(){return{paymentAmount:"",deleteConfirmFlag:!1}},computed:{userSplitPayment:function(){return this.averagePayment-this.userPayedAmount}},methods:{addPaymentAmount:function(){var e=Math.floor(this.paymentAmount);this.$emit("userPayEvent",{name:this.userName,amount:e}),this.paymentAmount=""},deleteUser:function(){this.deleteConfirmFlag=!1,this.$emit("deleteUserEvent",this.userName)},deleteConfirm:function(){this.deleteConfirmFlag=!0},cancelDeleting:function(){this.deleteConfirmFlag=!1}},filters:{floorToTenths:function(e){return Math.floor(10*e)/10}}},j=A,R=(n("391f"),n("adda")),I=n("8dd9"),S=n("2fa4"),B=Object(v["a"])(j,l,c,!1,null,"614862bb",null),M=B.exports;h()(B,{VBtn:x["a"],VCol:w["a"],VContainer:E["a"],VIcon:k["a"],VImg:R["a"],VRow:P["a"],VSheet:I["a"],VSpacer:S["a"]});var z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",[n("v-app-bar",{attrs:{app:"",fixed:"",color:"orange","elevate-on-scroll":""}},[e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}):e._e(),n("v-toolbar-title",[e._v("和割勘")]),e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?e._e():n("v-tabs",e._l(e.menuList,(function(t){return n("v-tab",{key:t.name,attrs:{to:t.url}},[e._v(" "+e._s(t.name)+" ")])})),1),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-help-circle-outline")])],1)],1),n("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",e._l(e.menuList,(function(t){return n("v-list-item",{key:t.name,attrs:{to:t.url}},[n("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1)],1)],1),n("div",{staticClass:"pa-6"}),n("router-view",{attrs:{userNameList:e.userNameList},on:{appendUserEvent:e.appendEvent,repaymentEvent:e.repaymentEvent}})],1)},D=[],J={name:"appBar",data:function(){return{drawer:!1,menuList:[{name:"ユーザー追加",url:"/"},{name:"受け渡し",url:"/repaymentForm"}]}},props:["userNameList"],methods:{appendEvent:function(e){this.$emit("appendUserEvent",e)},repaymentEvent:function(e){this.$emit("repaymentEvent",e)}}},K=J,G=(n("7b55"),n("40dc")),q=n("5bc1"),H=n("8860"),Q=n("da13"),W=n("1baa"),X=n("5d23"),Y=n("f774"),Z=n("71a3"),ee=n("fe57"),te=n("2a7f"),ne=Object(v["a"])(K,z,D,!1,null,"b1bff086",null),ae=ne.exports;h()(ne,{VAppBar:G["a"],VAppBarNavIcon:q["a"],VBtn:x["a"],VIcon:k["a"],VList:H["a"],VListItem:Q["a"],VListItemGroup:W["a"],VListItemTitle:X["b"],VNavigationDrawer:Y["a"],VSpacer:S["a"],VTab:Z["a"],VTabs:ee["a"],VToolbarTitle:te["a"]});var se=n("2b27"),re=n.n(se);a["a"].use(re.a);var ie={name:"userRoot",components:{userInfo:M,appBar:ae},data:function(){return{userNameList:[],paymentList:[]}},computed:{averagePayment:function(){return 0===this.userNameList.length?0:this.totalPayment/this.userNameList.length},userIterator:function(){for(var e=[],t=1;t<=this.userNameList.length;t++)e.push(t);return e},mod:function(){return 0!=this.userNameList.length?this.userNameList.length-this.totalPayment%this.userNameList.length:0},hasFraction:function(){return this.totalPayment%this.userNameList.length!==0},totalPayment:function(){for(var e=0,t=0;t<this.paymentList.length;t++)e+=this.paymentList[t];return e}},methods:{appendUser:function(e){this.userNameList.push(e),this.paymentList.push(0)},calcTotalPayment:function(e){var t=this.userNameList.indexOf(e.name);a["a"].set(this.paymentList,t,this.paymentList[t]+e.amount)},calcRepayment:function(e){var t=this.userNameList.indexOf(e.payer),n=this.userNameList.indexOf(e.receiver);a["a"].set(this.paymentList,t,this.paymentList[t]+e.amount),a["a"].set(this.paymentList,n,this.paymentList[n]-e.amount)},deleteUser:function(e){var t=this.userNameList.indexOf(e);this.userNameList.splice(t,1),this.paymentList.splice(t,1)}},updated:function(){this.$cookies.set("userNameList",this.userNameList),this.$cookies.set("paymentList",this.paymentList)},mounted:function(){if(this.$cookies.isKey("userNameList")&&this.$cookies.isKey("paymentList")){var e=this.$cookies.get("userNameList").split(",");this.userNameList=e;var t=this.$cookies.get("paymentList").split(",");t=t.map((function(e){return Number(e)})),this.paymentList=t}}},oe=ie,le=(n("5cb0"),Object(v["a"])(oe,i,o,!1,null,"1ebccdc2",null)),ce=le.exports;h()(le,{VContainer:E["a"],VRow:P["a"]});var ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],ref:"footer",attrs:{color:"#666",absolute:"",padless:""}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"4"}}),n("v-col",{staticClass:"footer_centering",attrs:{cols:"4"}},[n("strong",{staticClass:"white--text"},[e._v("wa-warikan")])]),n("v-col",{staticClass:"footer_centering",attrs:{cols:"4"}},e._l(e.icons,(function(t){return n("v-btn",{key:t,staticClass:"mx-1",attrs:{icon:"",dark:""}},[n("v-icon",{attrs:{size:"24px"}},[e._v(" "+e._s(t)+" ")])],1)})),1)],1)],1)],1)},me=[],pe={data:function(){return{icons:["mdi-home","mdi-email","mdi-calendar"]}},computed:{},methods:{onResize:function(){var e=this.$el.getBoundingClientRect().height;this.$emit("resizeEvent",e)}}},de=pe,ve=(n("36b3"),n("553a")),fe=n("dc22"),he=Object(v["a"])(de,ue,me,!1,null,"104ed187",null),ye=he.exports;h()(he,{VBtn:x["a"],VCol:w["a"],VContainer:E["a"],VFooter:ve["a"],VIcon:k["a"],VRow:P["a"]}),F()(he,{Resize:fe["a"]});var be={name:"App",components:{userRoot:ce,myFooter:ye},data:function(){return{padding_styles:""}},methods:{footerPadding:function(e){this.padding_styles={"padding-top":e+"px"}}}},_e=be,ge=(n("034f"),n("7496")),Ne=Object(v["a"])(_e,s,r,!1,null,null,null),Le=Ne.exports;h()(Ne,{VApp:ge["a"]});var Ce=n("f309");a["a"].use(Ce["a"]);var xe=new Ce["a"]({}),Ve=n("8c4f"),we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{align:"center"}},[n("v-col",[n("userTextField",{model:{value:e.inputtedUserName,callback:function(t){e.inputtedUserName=t},expression:"inputtedUserName"}})],1),n("v-col",[n("v-btn",{attrs:{disabled:""===e.inputtedUserName,large:"",color:"primary"},on:{click:e.formatNameAndEmitEvent}},[n("v-icon",[e._v("mdi-account-plus")])],1)],1)],1)],1)},Ee=[],ke=(n("4d63"),n("25f0"),n("4de4"),n("841c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{type:"text",label:"ユーザー名",filled:"",placeholder:"割勘 太郎",height:"40px","hide-details":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}})}),Pe=[],$e={name:"userTextField",props:["value"]},Fe=$e,Te=Object(v["a"])(Fe,ke,Pe,!1,null,null,null),Oe=Te.exports;h()(Te,{VTextField:y["a"]});var Ue={name:"appendUserForm",components:{userTextField:Oe},props:["userNameList"],data:function(){return{inputtedUserName:""}},methods:{formatNameAndEmitEvent:function(){var e=this.inputtedUserName,t=new RegExp(this.inputtedUserName+"_?[0-9]*"),n=this.userNameList.filter((function(e){return-1!=e.search(t)})),a=n.length;a>0&&(e=this.inputtedUserName+"_"+(a+1)),this.$emit("appendUserEvent",e),this.inputtedUserName=""}}},Ae=Ue,je=Object(v["a"])(Ae,we,Ee,!1,null,"456f6c38",null),Re=je.exports;h()(je,{VBtn:x["a"],VCol:w["a"],VContainer:E["a"],VIcon:k["a"],VRow:P["a"]});var Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.userNameList.length<2?n("div",{attrs:{id:"id_user_shortage"}},[n("p",[e._v("受け渡し機能を使うには2人以上のユーザーを追加してください")])]):e._e(),e.userNameList.length>=2?n("div",[n("v-row",{staticClass:"pa-3"},[n("moneyTextField",{model:{value:e.paymentAmount,callback:function(t){e.paymentAmount=e._n(t)},expression:"paymentAmount"}})],1),n("v-row",[n("v-col",[n("v-select",{attrs:{items:e.userNameList,filled:"",label:"払う人","hide-details":""},model:{value:e.payer,callback:function(t){e.payer=t},expression:"payer"}})],1),n("v-col",[n("v-select",{attrs:{items:e.userNameList,filled:"",label:"受け取る人","hide-details":""},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}})],1),n("v-col",[n("v-btn",{attrs:{color:"warning","x-large":"",disabled:!e.readyToRepayment},on:{click:e.repayment}},[n("v-icon",{attrs:{color:"black"}},[e._v("mdi-cash-refund")])],1)],1)],1)],1):e._e()])},Se=[],Be={name:"repaymentForm",components:{moneyTextField:_},props:["userNameList"],data:function(){return{payer:"",receiver:"",paymentAmount:""}},computed:{readyToRepayment:function(){var e=""!=this.paymentAmount,t=""!=this.payer&&""!=this.receiver,n=this.payer!=this.receiver;return e&&t&&n}},methods:{repayment:function(){var e=Math.floor(this.paymentAmount);this.$emit("repaymentEvent",{payer:this.payer,receiver:this.receiver,amount:e}),this.paymentAmount="",this.payer="",this.receiver=""}}},Me=Be,ze=(n("5c34"),n("b974")),De=Object(v["a"])(Me,Ie,Se,!1,null,"e8a0f264",null),Je=De.exports;h()(De,{VBtn:x["a"],VCol:w["a"],VContainer:E["a"],VIcon:k["a"],VRow:P["a"],VSelect:ze["a"]});var Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("p",[e._v("仮置")])])},Ge=[],qe={name:"tippingForm",components:{},methods:{}},He=qe,Qe=Object(v["a"])(He,Ke,Ge,!1,null,"249d452a",null),We=Qe.exports;h()(Qe,{VContainer:E["a"]}),a["a"].use(Ve["a"]);var Xe=[{path:"/",name:"appendUserForm",component:Re},{path:"/repaymentForm",name:"repaymentForm",component:Je},{path:"/tippingForm",name:"tippingForm",component:We}],Ye=new Ve["a"]({mode:"history",base:"/",routes:Xe}),Ze=Ye;n("5363");a["a"].config.productionTip=!1,new a["a"]({icons:{iconfont:"mdi"},vuetify:xe,router:Ze,render:function(e){return e(Le)}}).$mount("#app")},"5c34":function(e,t,n){"use strict";n("436d")},"5cb0":function(e,t,n){"use strict";n("ce07")},6303:function(e,t,n){},"7a75":function(e,t,n){e.exports=n.p+"img/支払い加算.34975b4b.png"},"7b55":function(e,t,n){"use strict";n("156f")},"85ec":function(e,t,n){},ce07:function(e,t,n){},ed2b:function(e,t,n){},f909:function(e,t,n){"use strict";n("ed2b")},fa6f:function(e,t,n){}});
//# sourceMappingURL=app.be8abed5.js.map