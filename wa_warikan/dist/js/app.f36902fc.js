(function(e){function t(t){for(var n,i,o=t[0],u=t[1],l=t[2],m=0,p=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var u=a[o];0!==r[u]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"013a":function(e,t,a){},"0d43":function(e,t,a){"use strict";a("013a")},"39ee":function(e,t,a){"use strict";a("abe4")},"436d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("userRoot")],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("appBar",{attrs:{userNameList:e.userNameList,paymentList:e.paymentList},on:{appendUserEvent:e.appendUser,repaymentEvent:e.calcRepayment}}),a("v-row",{staticClass:"pa-2"},e._l(e.userIterator,(function(t){return a("div",{key:t},[a("userInfo",{attrs:{userName:e.userNameList[t-1],userPayedAmount:e.paymentList[t-1],averagePayment:e.averagePayment},on:{userPayEvent:e.calcTotalPayment,deleteUserEvent:e.deleteUser}})],1)})),0),a("div",{staticClass:"pa-6"},[a("p",{class:{disabledContent:e.userNameList.length<2}},[e._v("総額："+e._s(e.totalPayment)+"円")]),a("p",{class:{disabledContent:e.userNameList.length<2}},[e._v("一人あたり："+e._s(e.averagePayment)+"円")]),e.userNameList.length>=2&&e.hasFraction?a("p",{class:{disabledContent:e.userNameList.length<2}},[e._v("誰かが「"+e._s(e.userNameList.length)+"で割って"+e._s(e.mod)+"余る数字」円払うと端数がなくなります")]):e._e(),e.userNameList.length<2||!e.hasFraction?a("p",{class:{disabledContent:e.userNameList.length<2}},[e._v("端数はありません")]):e._e()])],1)},o=[],u=(a("b0c0"),a("a434"),a("ac1f"),a("1276"),a("d81d"),a("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{staticClass:"ma-2",attrs:{color:"#FFF9C4",elevation:"6",rounded:"true"}},[n("v-container",[n("v-row",{staticClass:"ma-1",attrs:{id:"id_userName"}},[n("span",[e._v(e._s(e.userName))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.deleteUser}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1),n("v-row",{staticClass:"ml-1",attrs:{align:"center"}},[n("v-col",{staticClass:"pa-1"},[n("moneyTextField",{model:{value:e.paymentAmount,callback:function(t){e.paymentAmount=e._n(t)},expression:"paymentAmount"}})],1),n("v-col",{staticClass:"pa-1"},[n("v-btn",{attrs:{small:"",color:"warning",fab:"",dark:""},on:{click:e.addPaymentAmount}},[n("v-img",{attrs:{src:a("7a75"),width:"25",height:"25",contain:""}})],1)],1)],1),n("v-row",{staticClass:"ml-1"},[n("v-col",{staticClass:"pa-1"},[n("span",[e._v("累計支払金額："+e._s(e._f("floorToTenths")(e.userPayedAmount))+"円")])])],1),n("v-row",{staticClass:"ml-1"},[n("v-col",{staticClass:"pa-1 mb-3"},[e.userSplitPayment<0?n("span",{staticClass:"class_loss"},[e._v(" "+e._s(e._f("floorToTenths")(Math.abs(e.userSplitPayment)))+"円 建て替え中 ")]):e.userSplitPayment>0?n("span",{staticClass:"class_profit"},[e._v(" "+e._s(e._f("floorToTenths")(Math.abs(e.userSplitPayment)))+"円 支払うと割り勘 ")]):n("span",{staticClass:"class_just"},[e._v(" ちょうど一人分の金額を払っています ")])])],1)],1)],1)}),l=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{type:"number",prefix:"￥",label:"金額",dence:"",solo:"","hide-details":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},m=[],p={name:"moneyTextField",props:["value"]},d=p,v=(a("f909"),a("2877")),f=a("6544"),h=a.n(f),y=a("8654"),b=Object(v["a"])(d,c,m,!1,null,null,null),_=b.exports;h()(b,{VTextField:y["a"]});var L={name:"userInfo",components:{moneyTextField:_},props:["userName","averagePayment","userPayedAmount"],data:function(){return{paymentAmount:""}},computed:{userSplitPayment:function(){return this.averagePayment-this.userPayedAmount}},methods:{addPaymentAmount:function(){var e=Math.floor(this.paymentAmount);this.$emit("userPayEvent",{name:this.userName,amount:e}),this.paymentAmount=""},deleteUser:function(){this.$emit("deleteUserEvent",this.userName)}},filters:{floorToTenths:function(e){return Math.floor(10*e)/10}}},g=L,N=(a("0d43"),a("8336")),x=a("62ad"),V=a("a523"),w=a("132d"),P=a("adda"),E=a("0fd9"),T=a("8dd9"),k=a("2fa4"),C=Object(v["a"])(g,u,l,!1,null,"3f6a204c",null),$=C.exports;h()(C,{VBtn:N["a"],VCol:x["a"],VContainer:V["a"],VIcon:w["a"],VImg:P["a"],VRow:E["a"],VSheet:T["a"],VSpacer:k["a"]});var A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header",[a("v-app-bar",{attrs:{app:"",fixed:"",color:"orange","elevate-on-scroll":""}},[e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}):e._e(),a("v-toolbar-title",[e._v("和割勘")]),e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?e._e():a("v-tabs",e._l(e.menuList,(function(t){return a("v-tab",{key:t.name,attrs:{to:t.url}},[e._v(" "+e._s(t.name)+" ")])})),1),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-help-circle-outline")])],1)],1),a("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",e._l(e.menuList,(function(t){return a("v-list-item",{key:t.name,attrs:{to:t.url}},[a("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1)],1)],1),a("div",{staticClass:"pa-6"}),a("router-view",{attrs:{userNameList:e.userNameList},on:{appendUserEvent:e.appendEvent,repaymentEvent:e.repaymentEvent}})],1)},F=[],O={name:"appBar",data:function(){return{drawer:!1,menuList:[{name:"ユーザー追加",url:"/"},{name:"受け渡し",url:"/repaymentForm"}]}},props:["userNameList","paymentList"],methods:{appendEvent:function(e){this.$emit("appendUserEvent",e)},repaymentEvent:function(e){this.$emit("repaymentEvent",e)}}},U=O,j=(a("39ee"),a("40dc")),I=a("5bc1"),S=a("8860"),R=a("da13"),B=a("1baa"),M=a("5d23"),J=a("f774"),K=a("71a3"),D=a("fe57"),G=a("2a7f"),q=Object(v["a"])(U,A,F,!1,null,"e1c6523a",null),z=q.exports;h()(q,{VAppBar:j["a"],VAppBarNavIcon:I["a"],VBtn:N["a"],VIcon:w["a"],VList:S["a"],VListItem:R["a"],VListItemGroup:B["a"],VListItemTitle:M["b"],VNavigationDrawer:J["a"],VSpacer:k["a"],VTab:K["a"],VTabs:D["a"],VToolbarTitle:G["a"]});var H=a("2b27"),Q=a.n(H);n["a"].use(Q.a);var W={name:"userRoot",components:{userInfo:$,appBar:z},data:function(){return{userNameList:[],paymentList:[]}},computed:{averagePayment:function(){return 0===this.userNameList.length?0:this.totalPayment/this.userNameList.length},userIterator:function(){for(var e=[],t=1;t<=this.userNameList.length;t++)e.push(t);return e},mod:function(){return 0!=this.userNameList.length?this.userNameList.length-this.totalPayment%this.userNameList.length:0},hasFraction:function(){return this.totalPayment%this.userNameList.length!==0},totalPayment:function(){for(var e=0,t=0;t<this.paymentList.length;t++)e+=this.paymentList[t];return e}},methods:{appendUser:function(e){this.userNameList.push(e),this.paymentList.push(0)},calcTotalPayment:function(e){var t=this.userNameList.indexOf(e.name);n["a"].set(this.paymentList,t,this.paymentList[t]+e.amount)},calcRepayment:function(e){var t=this.userNameList.indexOf(e.payer),a=this.userNameList.indexOf(e.receiver);n["a"].set(this.paymentList,t,this.paymentList[t]+e.amount),n["a"].set(this.paymentList,a,this.paymentList[a]-e.amount)},deleteUser:function(e){var t=this.userNameList.indexOf(e);this.userNameList.splice(t,1),this.paymentList.splice(t,1)}},updated:function(){this.$cookies.set("userNameList",this.userNameList),this.$cookies.set("paymentList",this.paymentList)},mounted:function(){if(this.$cookies.isKey("userNameList")&&this.$cookies.isKey("paymentList")){var e=this.$cookies.get("userNameList").split(",");this.userNameList=e;var t=this.$cookies.get("paymentList").split(",");t=t.map((function(e){return Number(e)})),this.paymentList=t}}},X=W,Y=(a("e3b7"),Object(v["a"])(X,i,o,!1,null,"665f5809",null)),Z=Y.exports;h()(Y,{VContainer:V["a"],VRow:E["a"]});var ee={name:"App",components:{userRoot:Z},data:function(){return{}}},te=ee,ae=a("7496"),ne=Object(v["a"])(te,r,s,!1,null,null,null),re=ne.exports;h()(ne,{VApp:ae["a"]});var se=a("f309");n["a"].use(se["a"]);var ie=new se["a"]({}),oe=a("8c4f"),ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("userTextField",{model:{value:e.inputtedUserName,callback:function(t){e.inputtedUserName=t},expression:"inputtedUserName"}})],1),a("v-col",[a("v-btn",{attrs:{disabled:""===e.inputtedUserName,large:"",color:"primary"},on:{click:e.formatNameAndEmitEvent}},[a("v-icon",[e._v("mdi-account-plus")])],1)],1)],1)],1)},le=[],ce=(a("4d63"),a("25f0"),a("4de4"),a("466d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{type:"text",label:"ユーザー名",filled:"",placeholder:"割勘 太郎",height:"40px","hide-details":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}})}),me=[],pe={name:"userTextField",props:["value"]},de=pe,ve=Object(v["a"])(de,ce,me,!1,null,null,null),fe=ve.exports;h()(ve,{VTextField:y["a"]});var he={name:"appendUserForm",components:{userTextField:fe},props:["userNameList"],data:function(){return{inputtedUserName:""}},methods:{formatNameAndEmitEvent:function(){var e=this.inputtedUserName,t=new RegExp("/"+this.inputtedUserName+"_\\d/"),a=this.userNameList.filter((function(e){return e.match(t)!=[]})),n=a.length;n>0&&(e=this.inputtedUserName+"_"+(n+1)),this.$emit("appendUserEvent",e),this.inputtedUserName=""}}},ye=he,be=Object(v["a"])(ye,ue,le,!1,null,"0032fb48",null),_e=be.exports;h()(be,{VBtn:N["a"],VCol:x["a"],VContainer:V["a"],VIcon:w["a"],VRow:E["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[e.userNameList.length<2?a("div",{attrs:{id:"id_user_shortage"}},[a("p",[e._v("受け渡し機能を使うには2人以上のユーザーを追加してください")])]):e._e(),e.userNameList.length>=2?a("div",[a("v-row",{staticClass:"pa-3"},[a("moneyTextField",{model:{value:e.paymentAmount,callback:function(t){e.paymentAmount=e._n(t)},expression:"paymentAmount"}})],1),a("v-row",[a("v-col",[a("v-select",{attrs:{items:e.userNameList,filled:"",label:"払う人","hide-details":""},model:{value:e.payer,callback:function(t){e.payer=t},expression:"payer"}})],1),a("v-col",[a("v-select",{attrs:{items:e.userNameList,filled:"",label:"受け取る人","hide-details":""},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}})],1),a("v-col",[a("v-btn",{attrs:{color:"warning","x-large":"",disabled:!e.readyToRepayment},on:{click:e.repayment}},[a("v-icon",{attrs:{color:"black"}},[e._v("mdi-cash-refund")])],1)],1)],1)],1):e._e()])},ge=[],Ne={name:"repaymentForm",components:{moneyTextField:_},props:["userNameList"],data:function(){return{payer:"",receiver:"",paymentAmount:""}},computed:{readyToRepayment:function(){var e=""!=this.paymentAmount,t=""!=this.payer&&""!=this.receiver,a=this.payer!=this.receiver;return e&&t&&a}},methods:{repayment:function(){var e=Math.floor(this.paymentAmount);this.$emit("repaymentEvent",{payer:this.payer,receiver:this.receiver,amount:e}),this.paymentAmount="",this.payer="",this.receiver=""}}},xe=Ne,Ve=(a("5c34"),a("b974")),we=Object(v["a"])(xe,Le,ge,!1,null,"e8a0f264",null),Pe=we.exports;h()(we,{VBtn:N["a"],VCol:x["a"],VContainer:V["a"],VIcon:w["a"],VRow:E["a"],VSelect:Ve["a"]});var Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("p",[e._v("仮置")])])},Te=[],ke={name:"tippingForm",components:{},methods:{}},Ce=ke,$e=Object(v["a"])(Ce,Ee,Te,!1,null,"249d452a",null),Ae=$e.exports;h()($e,{VContainer:V["a"]}),n["a"].use(oe["a"]);var Fe=[{path:"/",name:"appendUserForm",component:_e},{path:"/repaymentForm",name:"repaymentForm",component:Pe},{path:"/tippingForm",name:"tippingForm",component:Ae}],Oe=new oe["a"]({mode:"history",base:"/",routes:Fe}),Ue=Oe;a("5363");n["a"].config.productionTip=!1,new n["a"]({icons:{iconfont:"mdi"},vuetify:ie,router:Ue,render:function(e){return e(re)}}).$mount("#app")},"5c34":function(e,t,a){"use strict";a("436d")},"7a75":function(e,t,a){e.exports=a.p+"img/支払い加算.34975b4b.png"},abe4:function(e,t,a){},e3b7:function(e,t,a){"use strict";a("fa52")},ed2b:function(e,t,a){},f909:function(e,t,a){"use strict";a("ed2b")},fa52:function(e,t,a){}});
//# sourceMappingURL=app.f36902fc.js.map